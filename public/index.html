<!DOCTYPE html>
<html>
<head>
  <title>Sheng Ji</title>
  <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
  <div id="start-page">
    <div id="registration">
      <h1>Create an Account</h1>
      <form id="create-user">
        <label>Username</label><br/>
        <input id="username" name="username" autocomplete="off" type="text"/><br/>
        <label>Password</label><br/>
        <input id="password" name="password" autocomplete="off" type="password"/><br/>
        <input type="submit" value="Submit">
      </form>
      <p>Already have an account? <a href="#" id="login-link">Login</a></p>
      <p id="registration-error" class="error-message"></p>
    </div>
    <div id="login">
      <h1>Log In</h1>
      <form id="login-user">
        <label>Username</label><br/>
        <input id="username" name="username" autocomplete="off" type="text"/><br/>
        <label>Password</label><br/>
        <input id="password" name="password" autocomplete="off" type="password"/><br/>
        <input type="submit" value="Submit">
      </form>
      <p>Don't have an account? <a href="#" id="register-link">Register</a></p>
      <p id="login-error" class="error-message"></p>
    </div>
  </div>
  <div id="game-settings">
    <div id="game-settings-player">
      <h1>Would you like to join the game as a player or a spectator?</h1>
      <button id='join-player'>Player</button>
      <button id='join-spectator'>Spectator</button>
      <p id="setting-error" class="error-message"></p>
    </div>
    <div id="team">
      <h1 id="team-header">Which team would you like to join?</h1>
      <div id="team-container">
        <div id="declarers">
          <h2>Declarers</h2>
          <div></div>
        </div>
        <div id="opponents">
          <h2>Opponents</h2>
          <div></div>
        </div>
      </div>
      <p id="team-error" class="error-message"></p>
    </div>  
  </div>
  <div id="chat-page">
    <div class="sidebar">
      <div class="legend">
        <div>
          <h2>Trump Suit</h2>
          <p id="trump-suit"></p>
        </div>
        <div>
          <h2>Trump Rank</h2>
          <p id="trump-rank">2</p>
        </div>
        <div>
          <h2>Points</h2>
          <p id="points">0</p>
        </div>
        <div>
          <h2>Game History</h2>
          <p><a id="game-history" href="#">View</a></p>
        </div>
      </div>
      <div id="my-player-stats">
          <h3 id="my-username">Username</h3>
          <p>My Score: <span id="my-score"></span></p>
          <p><a href="#" id="help-link" style="font-size:10px;">Help</a></p>
        </div>
      </div>
    <div class="game-space">
      <div id="pop-up">
        <p id="pop-up-close"><a href="#">X</a></p>
        <div id="pop-up-inner"></div>
      </div>
      <div id="instructions">
        <h1>Rules</h1>
        <p id="instructions-close"><a href="#">X</a></p>
        <h3>Players and Cards</h3>
        <p>Da bai fen is a point trick game played by four players in fixed partnerships, with partners facing each other across the table. A standard international pack is used, with red and black jokers, making 54 cards in all. The point values of the cards are as follows:</p>
        <table>
          <tr>
            <td>
            Each King</td>   <td>10 points,</td> 
          </tr>
          <tr>
           <td>Each ten     <td>10 points,</td> 
         </tr>
         <tr>
           <td>Each five     <td>5 points,</td> 
         </tr>
         <tr>
           <td>Other cards   <td>no value.</td> 
         </tr>
         </table>
         <h3>Ranking of Cards</h3>
         <p>In each hand there are eighteen trumps: the two jokers, all the cards of a particular suit (the trump suit) and all the cards of a particular rank (the trump rank). The highest trump is the red Joker, second is the black Joker, and third is the card which belongs to both the trump suit and the trump rank. Next come the other three cards of the trump rank, which are equal in status. Finally there are the remaining cards of the trump suit which rank in downwards order A, K, Q, J, 10, 9, 8, 7, 6, 5, 4, 3, 2 (omitting the trump rank). The three remaining suits also rank from highest to lowest omitting the trump rank.</p>

         <h3>Declarers and opponents</h3>
         <p>In each hand one partnership are declarers, and the other are the opponents. The declarers are chosen not by bidding but according to the result of the previous hand. Normally if the declarers are successful they win a game point while if the opponents are successful they win the right to be the declarers in the next hand. Each side's score in game points is expressed as a card rank from two (low) up to Ace (high). In each hand the trump rank is the declarers' current score. Both sides start at two and the winners are the first side whose score goes above Ace.</p>

         <h3>The Play</h3>
         <p>During the play, Jokers and cards of the trump rank all count as belonging to the trump suit, not to the suits marked on them. </p>

         <p>Play is in counter-clockwise rotation. Each of the other three players in turn must play the same number of cards as were led. As far as possible they must play cards of the suit led. Having run out of cards of the suit led a player may play any cards he chooses. If one or more players play nothing but trumps to the trick, the trick is won by whichever of these played the highest trump. Among trumps of equal rank the one which is played earliest beats the others. If everyone plays at least one non-trump to the trick, it is won by the player of the highest card of the suit led.</p>

         <p>Note that for single card leads these rules are equivalent to the familiar trick-taking rules of skat or bridge, except for the extra rule that the first played of equal ranking cards has precedence. The purpose of making a multiple lead is that provided that each member of the other team has at least one card of the suit led they cannot win by ruffing. If the same cards were led singly it is more likely that some of them would be trumped. A multiple lead may also win because a member of the other team, although void, does not have enough trumps to match the number of cards led. None of these advantages apply to multiple trump leads, which although legal are very seldom used in practice.</p>

         <p>The object of the play is to win tricks containing counting cards, that is kings, tens and fives. Whenever the opponents win a trick containing any counting cards. these are extracted from the trick and placed face up in front of one of them. All other cards played to tricks, including counting cards in tricks won by the declarers, are put face down in a single heap once the trick is complete. Any counting cards among the six discarded by the dealer at the beginning of the hand are worth double (20 for Kings and tens, 10 for fives) and are won by the side which wins the last trick.</p>

         <h3>Scoring</h3>
         <p>The result of the hand depends on the number of card points won by the opponents. This determines which side scores how many points, and who will be the declarers for the next hand:</p>

         <table>
          <tr><th>
          Opponents' card points</th> <th>Score</th>  <th>Declarers for next hand</th> <th>Starter for next hand</th>
          </tr>
          <tr>
            <td>Zero</td> <td>Declarers score 2</td>  <td>No change</td>  <td>Previous leader's partner</td>
          </tr>
          <tr>
            <td>5 to 35</td>  <td>Declarers score 1</td>  <td>No change</td>  <td>Previous leader's partner</td>
          </tr>
          <tr>
            <td>40 to 75</td> <td>No score</td> <td>Opponents become new declarers</td> <td>Player to previous leader's right</td>
          </tr>
          <tr>
            <td>80 to 95</td> <td>Opponents score 1</td>  <td>Opponents become new declarers</td> <td>Player to previous leader's right</td>
          </tr>
          <tr>
            <td>100 or more</td>  <td>Opponents score 2</td>  <td>Opponents become new declarers</td> <td>Player to previous leader's right</td>
          </tr>
        </table>
      </div>
      <div id="header">
        <p id="center-msg"></p>
      </div>
      <div class="space-1"></div>
      <div class="player-3">
        <h2></h2>
        <div id="player-3-cards">
        </div>
      </div>
      <div class="space-1"></div>
      <div class="player-4">
        <h2></h2>
        <div id="player-4-cards">
        </div>
      </div>
      <div class="center">
        <form id="edit-settings">
          <label>Trump Rank<br/>
            <input id="setTrumpValue" name="setTrumpValue" autocomplete="off" value="2" min="2" max="14" type="number"/><br/>
          </label>
          
          <label>Trump Suit<br/><div class="select">
            <select id="setTrumpSuit" name="setTrumpSuit">
              <option value="spades">spades</option>
              <option value="hearts">hearts</option>
              <option value="clubs">clubs</option>
              <option value="diamonds">diamonds</option>
              <option value="random" selected>random</option>
            </select>
            </div>
          </label>

        </form>
        <button id="start-game">Start Game</button>
        <button id="view-plays" disabled>View Past Plays</button>
        <button id="restart-game">Start Next Game</button>
      </div>
      <div class="player-2">
        <h2></h2>
        <div id="player-2-cards">
        </div>
      </div>
      <div class="space-1"></div>
      <div class="play">
        <div class="play-hand">
          <h2>My last play</h2>
          <div class="play-hand-cards"></div>
        </div>
      </div>
      <div class="space-1"></div>
      <div class="my-player">
        <!-- <p id="message"></p> -->
        <div class="hand">
          <form id="hand-form" action="">
            <div class="hand-cards"></div>
            <button id="hand-submit" disabled>Confirm Play</button>
          </form>
        </div>
      </div>
    </div>
    <aside id="chat">
      <div id="current-users">
        <ul id="all-users"></ul>
      </div>
      <div id="chat-container">
        <div id="messages-container">
          <ul id="messages"></ul>
        </div>
        <form id="chatbox" action="">
          <input id="m" autocomplete="off" /><button>Send</button>
        </form>
      </div>
    </aside>
  </div>
  <script src="/socket.io/socket.io.js"></script>
  <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
  <script src="script.js"></script>
</body>
</html>